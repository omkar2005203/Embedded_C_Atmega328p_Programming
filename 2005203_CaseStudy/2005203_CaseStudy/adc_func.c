/******************************************************************************
* File Name: GPIO.c
* Description: This file contains API definitions for GPIO functionality
* Tool-Chain: AVR GCC
*
* Modification History:
* Created by: Omkar Rane 2005203 V1.0 25/Sep/2020
* Description: V1.0
******************************************************************************/
/******************************************************************************
* Includes
******************************************************************************/
#include"ADC.h"
/******************************************************************************
* Defines and data types
******************************************************************************/
/******************************************************************************
* Global variables
******************************************************************************/
/******************************************************************************
* Static variables
******************************************************************************/
/******************************************************************************
* Internal function prototypes
******************************************************************************/
/******************************************************************************
* Public functions definitions
******************************************************************************/
/******************************************************************************
* Name: GPIOConfig (pin, mode)
* Description: Configures the mode of the pin as INPUT/PULLUP or OUTPUT
* Arguments: pin and mode
* Returns: None
******************************************************************************/
/******************************************************************************
* Internal functions
******************************************************************************/
/******************************************************************************
* Name:
* Description:
******************************************************************************/
void adc_init()
{
    ADMUX=0x00;
    ADMUX |= (1 << REFS0);
    ADCSRA|=(1<<ADEN);
}
uint16_t adc_read()
{
    int a,al;
    ADCSRA |= (1 << ADSC);
    while((ADCSRA&(1<<ADSC))==0);
    _delay_us(100);
    al=(int)ADCL;
    a=(int)ADCH*256;
    a=a+al;
    return a;
}
/******************************************************************************
/******************************************************************************
* End of File
******************************************************************************/

